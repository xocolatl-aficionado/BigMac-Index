{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../CurrencyValuation.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import { onMount } from \"svelte\";\n\n  export let countries;\n  export let selectedCountry1;\n  export let selectedCountry2;\n  let exchangeRate;\n  let valuation;\n  const bigMacPrices = { \"CAD\": 6.77, \"CNY\": 24, \"INR\": 191, \"USD\": 5.15, \"EUR\": 4.65, \"CHF\": 6.5 }; // hardcoded\n\n  async function fetchExchangeRate(foreignCountry) {\n    const response = await fetch(`https://api.exchangerate-api.com/v4/latest/${selectedCountry1.code}`);\n    const data = await response.json();\n    return data.rates[foreignCountry];\n  }\n\n  function calculateValuation() {\n    const price1 = bigMacPrices[selectedCountry1.code];\n    const price2 = bigMacPrices[selectedCountry2.code];\n\n    const impliedExchangeRate = price2 / price1;\n    const foreignPrice = price2 / exchangeRate;\n\n    if (impliedExchangeRate > exchangeRate) {\n      return `${selectedCountry2.code} is overvalued relative to ${selectedCountry1.code}`;\n    } else if (impliedExchangeRate < exchangeRate) {\n      return `${selectedCountry2.code} is undervalued relative to ${selectedCountry1.code}`;\n    } else {\n      return `${selectedCountry2.code} is fairly valued relative to ${selectedCountry1.code}`;\n    }\n  }\n\n  async function handleCountryChange() {\n    exchangeRate = await fetchExchangeRate(selectedCountry2.code);\n    valuation = calculateValuation();\n  }\n\n \n\n  onMount(async () => {\n    await handleCountryChange();\n    valuation = calculateValuation();\n  });\n</script>\n\n<main>\n  <h1>Big Mac Index Currency Valuation</h1>\n  <select bind:value={selectedCountry1} on:change={handleCountryChange}>\n    {#each countries as country}\n    <option value={country}>{country.name}</option>\n    {/each}\n  </select>\n  <select bind:value={selectedCountry2} on:change={handleCountryChange}>\n    {#each countries as country}\n    <option value={country}>{country.name}</option>\n    {/each}\n  </select>\n\n  {#if valuation}\n  <p>\n    Valuation: {valuation}\n    <br>\n    Exchange rate: {exchangeRate}\n    <br>\n    Implied Exchange rate: {bigMacPrices[selectedCountry2.code] / bigMacPrices[selectedCountry1.code]}\n  </p>\n\n  <p>\n    A Big Mac bought in {selectedCountry1.name} for {bigMacPrices[selectedCountry1.code]} {selectedCountry1.code}\n    would be valued at {bigMacPrices[selectedCountry2.code] / exchangeRate} {selectedCountry1.code} in {selectedCountry2.name}\n  </p>\n  {/if}\n</main>\n\n<style>\n  main {\n    text-align: center;\n    padding: 1em;\n    max-width: 400px;\n    margin: 0 auto;\n  }\n</style>\n"
  ],
  "names": [],
  "mappings": "AA2EE,kBAAK,CACH,UAAU,CAAE,MAAM,CAClB,OAAO,CAAE,GAAG,CACZ,SAAS,CAAE,KAAK,CAChB,MAAM,CAAE,CAAC,CAAC,IACZ"
}